config:

- lookup:
    name: 'XiaomiModels'
    map:
      "2013022"       : "Redmi 1"
      "2013023"       : "Redmi 1W"
      "2014011"       : "Redmi 1S"
      "2014811"       : "Redmi 2"
      "2014812"       : "Redmi 2"
      "2014813"       : "Redmi 2"
      "2014814"       : "Redmi 2"
      "2014815"       : "Redmi 2"
      "2014816"       : "Redmi 2A"
      "2014817"       : "Redmi 2"
      "2014818"       : "Redmi 2"
      "2014819"       : "Redmi 2"

- matcher:
    require:
    - 'agent.product.comments.entry{"Redmi"'
    extract:
    - 'DeviceBrand :   3000:"Xiaomi"'

- matcher:
    require:
    - 'agent.product.comments.entry{"MI "'
    extract:
    - 'DeviceBrand :   1010:"Xiaomi"'

- matcher:
    require:
    - 'agent.(1)product.(1)comments.entry.(1)product.(1)name{"Mi-"'
    extract:
    - 'DeviceBrand :   1010:"Xiaomi"'

- matcher:
    variable:
    - 'Product: agent.(1)product.(1)comments.entry.(1)product{"HM "'
    extract:
    - 'DeviceName :    1010:LookUp[XiaomiModels;@Product[1];"Redmi Note 4"]'
    - 'DeviceBrand :   1010:"Xiaomi"'

- matcher:
    variable:
    - 'Product: agent.(1)product.(1)comments.entry.(1)product.(1)name{"20130"'
    extract:
    - 'DeviceName :    3000:LookUp[XiaomiModels;@Product[1];"Redmi 1"]'
    - 'DeviceBrand :   3000:"Xiaomi"'

- matcher:
    variable:
    - 'Product: agent.(1)product.(1)comments.entry.(1)product.(1)name{"20140"'
    extract:
    - 'DeviceName :    3000:LookUp[XiaomiModels;@Product[1];"Redmi 1"]'
    - 'DeviceBrand :   3000:"Xiaomi"'

- matcher:
    variable:
    - 'Product: agent.(1)product.(1)comments.entry.(1)product.(1)name{"20148"'
    extract:
    - 'DeviceName :    3000:LookUp[XiaomiModels;@Product[1];"Redmi 2"]'
    - 'DeviceBrand :   3000:"Xiaomi"'

- matcher:
    require:
    - 'agent.product.version="MiuiBrowser"'
    extract:
    - 'AgentName :         3000:"MiuiBrowser"'
    - 'AgentClass :        3000:"Browser"'
    - 'AgentVersion :      3000:agent.product.version>'
    - 'WebviewAppName :    3000:"XiaoMi MiuiBrowser"'
    - 'WebviewAppVersion : 3000:agent.product.version>'
